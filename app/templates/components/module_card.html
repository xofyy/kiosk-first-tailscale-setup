{# Module Card Component #}
{# Usage: {% include 'components/module_card.html' with module=module, status=status %} #}

<div class="module-card" data-module="{{ module.name }}" data-status="{{ status }}">
    <div class="module-order">{{ module.order }}</div>

    <div class="module-info">
        <h3 class="module-name">{{ module.display_name }}</h3>
        <p class="module-desc">{{ module.description }}</p>
        {% if module.dependencies %}
        <span class="module-deps">Dependency: {{ module.dependencies | join(', ') }}</span>
        {% endif %}
    </div>

    <div class="module-status">
        {% if status == 'completed' %}
        <span class="status-badge success">‚úì Completed</span>
        {% elif status == 'installing' %}
        <span class="status-badge warning">‚ü≥ Installing...</span>
        {% elif status == 'failed' %}
        <span class="status-badge error">‚úó Error</span>
        {% elif status == 'reboot_required' %}
        <span class="status-badge info">‚Üª Reboot Required</span>
        {% elif status == 'mok_pending' %}
        <span class="status-badge info">üîê MOK Pending</span>
        {% else %}
        <span class="status-badge">Pending</span>
        {% endif %}
    </div>

    <div class="module-actions">
        {% if status == 'completed' %}
        <button class="btn btn-secondary" disabled>Installed</button>
        {% elif status == 'installing' %}
        <button class="btn btn-secondary" disabled>
            <span class="spinner"></span>
        </button>
        {% elif status == 'reboot_required' or status == 'mok_pending' %}
        <button class="btn btn-warning btn-reboot" onclick="rebootSystem()">
            Reboot
        </button>
        {% else %}
        <button class="btn btn-primary btn-install"
                data-module="{{ module.name }}"
                onclick="installModule('{{ module.name }}')">
            Install
        </button>
        {% endif %}
    </div>
</div>
